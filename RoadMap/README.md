## 🛠️ Aegis-AI : DAS 개발 로드맵

### 1단계: 프로젝트 기반 및 데이터 아키텍처 (Foundation)

**목표:** 앱의 뇌(ViewModel)와 헌법(Design Tokens)을 확립합니다.

* **프로젝트 초기화:** `Pristine Lab` 테마를 적용한 `Theme.kt`, `Color.kt` 설정.
* **State 정의:** 50개의 Context/Action 도구를 포함하는 단일 `ToolState` 데이터 클래스 생성.
* **StateFlow 구축:** `MainViewModel`에서 전체 앱의 상태를 관리할 `MutableStateFlow` 및 초기값 세팅.
* **AI 프롬프트 가이드:** "50개 도구 마스터 레지스트리를 바탕으로, 모든 상태를 한 곳에서 관리하는 ViewModel과 StateFlow 구조를 먼저 설계해줘."

### 2단계: 데이터 제어 및 시나리오 엔진 (Tabs 2 & 4)

**목표:** AI의 반응을 테스트하기 위한 '입력 체계'를 먼저 완성합니다.

* **시나리오 인젝터:** 특정 상황(폭우, 졸음 등) 클릭 시 50개 도구 값을 일괄 변경하는 로직 구현.
* **데이터 그리드:** 50개 도구를 카드 형태로 리스팅하고, 디버그 모드에서 각 수치를 슬라이더/스위치로 실시간 수정하는 기능.
* **상태 동기화:** 탭 4에서 바꾼 값이 탭 2의 카드들에 즉각 반영되는지 확인.
* **AI 프롬프트 가이드:** "탭 4에서 특정 시나리오를 선택하면 ViewModel의 도구 값들이 프리셋대로 한꺼번에 업데이트되고, 이를 탭 2의 카드들이 실시간 리스닝하게 해줘."

### 3단계: AI 추론 로그 및 사고 시각화 (Tab 3)

**목표:** AI가 무엇을 생각하고 어떤 데이터를 내보내는지 '설명 가능한 UI'를 만듭니다.

* **Thought Bubble:** FunctionGemma의 `thought` 필드를 추출하여 자연어 타이핑 애니메이션으로 출력.
* **로그 스트리밍:** 입출력 JSON 데이터를 시간순으로 쌓고, 디버그 모드 시 시스템 성능 로그 추가 표시.
* **JSON 포맷터:** 가독성을 위해 Raw JSON 데이터에 들여쓰기 및 색상 하이라이팅 적용.
* **AI 프롬프트 가이드:** "FunctionGemma의 응답 JSON에서 사고 과정(Thought)만 따로 빼서 상단에 보여주고, 전체 입출력 이력은 타임라인 형태로 나열해줘."

### 4단계: 디지털 트윈 및 실시간 시뮬레이션 (Tab 1)

**목표:** 시뮬레이션의 꽃인 차량 뷰와 액션 애니메이션을 구현합니다.

* **레이어드 UI:** 차량 배경 이미지 위에 상태별(차선 이탈, 충돌 위험 등) 오버레이 레이어 적층.
* **액션 애니메이션 매핑:** `trigger_steering_vibration` 등 액션 툴 활성화 시 핸들 진동, 화면 점멸 등의 개별 애니메이션 구현.
* **뷰 스위칭:** 탑뷰(외부)와 인테리어뷰(내부)를 매끄럽게 전환하는 로직.
* **AI 프롬프트 가이드:** "ViewModel의 특정 액션 값이 true가 되면, 탭 1의 해당 레이어 이미지가 맥동(Pulse)하거나 흔들리는 Compose 애니메이션을 추가해줘."

### 5단계: 디자인 폴리싱 및 최적화 (Polish)

**목표:** 화이트 테마의 디테일을 살리고 성능을 안정화합니다.

* **글래스모피즘:** 모든 카드와 패널에 `Blur` 및 반투명 화이트 레이어 적용.
* **인터랙션 정교화:** 버튼 클릭 피드백(Ripple), 리스트 스크롤 애니메이션 등 디테일 수정.
* **성능 점검:** 50개의 상태가 동시에 변할 때 UI 끊김이 없는지 Recomposition 최적화.
* **AI 프롬프트 가이드:** "전체 앱에 디자인 가이드에 정의된 24dp 라운드 코너와 0.5dp 보더, 그리고 은은한 그림자를 일괄 적용해서 깔끔하게 다듬어줘."
